{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}

{% block main %}
    <div>
        <table class = "table">
            <thead>
                <tr>
                    <th scope = "col">#</th>
                    <th scope = "col">Symbol</th>
                    <th scope = "col">Amount of Shares</th>
                    <th scope = "col">AVG Price Bought</th>
                    <th scope = "col">Current Price</th>
                    <th scope = "col">Total Value</th>
                </tr>
            </thead>
            <tbody>
                {%for i in range(symbol|length)%}
                <tr>
                    <td>{{symbol[i]['symbol']}}</td>
                    <td>{{shares[i]['total_shares']}}</td>
                    <td>{{avg_bought[i]['avg'] | usd}}</td>
                    <td>{{current_price[i]['price'] | usd}}</td>
                    <td>{{total_value[i][symbol[i]['symbol']] | usd}}</td>
                </tr>
                {%endfor%}
            </tbody>
            <tfoot>
                <tr>
                    <td class="border-0"></td>
                    <td class="border-0"></td>
                    <td class="border-0"></td>
                    <td class="border-0 fw-bold">Portfolio Value</td>
                    <td class="border-0 fw-bold">{{portfolio_value | usd}}</td>
                </tr>
                <tr>
                    <td class="border-0"></td>
                    <td class="border-0"></td>
                    <td class="border-0"></td>
                    <td class="border-0 fw-bold">Remaining Balance</td>
                    <td class="border-0 fw-bold">{{current_cash[0]['cash'] | usd}}</td>
                </tr>
            </tfoot>
        </table>
    </div>
{% endblock %}
